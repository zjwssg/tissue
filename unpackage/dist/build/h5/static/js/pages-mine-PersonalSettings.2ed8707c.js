(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-PersonalSettings"],{"0019":function(t,e,i){"use strict";i.r(e);var n=i("9caf"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"00dd":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"page"},[n("v-uni-view",{staticClass:"diandi15"}),n("v-uni-view",{staticClass:"diandi10"}),n("v-uni-view",{staticClass:"PersonalSettings_1"},[n("v-uni-view",{staticClass:"Margin020"},[n("v-uni-view",{staticClass:"PersonalSettings_1_1"},[n("v-uni-view",{staticClass:"Margin020"},[n("v-uni-view",{staticClass:"PersonalSettings_1_1_1"},[n("v-uni-view",{staticClass:"PersonalSettings_1_1_1_1 displayFlex_left",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.AvatarUpload()}}},[n("v-uni-view",{staticClass:"PersonalSettings_1_1_1_1_1"},[t._v(t._s(t.i18n.my.ProfilePicture))]),n("v-uni-view",{staticClass:"PersonalSettings_1_1_1_1_2 displayFlex_right"},[n("v-uni-view",{staticClass:"displayFlex_center borderRadius"},[n("v-uni-image",{staticClass:"img100 borderRadius",attrs:{src:"http://www.zhijin.com/static/img/"+t.user.user_icon,mode:""},model:{value:t.XGuserIcon,callback:function(e){t.XGuserIcon=e},expression:"XGuserIcon"}})],1)],1),n("v-uni-view",{staticClass:"PersonalSettings_1_1_1_1_3 displayFlex_right"},[n("v-uni-view",{staticClass:"displayFlex_center"},[n("v-uni-image",{staticClass:"img100",attrs:{src:i("7f98"),mode:""}})],1)],1)],1),n("v-uni-view",{staticClass:"PersonalSettings_1_1_1_1 displayFlex_left",staticStyle:{height:"88upx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.PersonalSettingsBtn(2)}}},[n("v-uni-view",{staticClass:"PersonalSettings_1_1_1_1_4"},[t._v(t._s(t.i18n.my.Nickname))]),n("v-uni-view",{staticClass:"PersonalSettings_1_1_1_1_5 displayFlex_right"},[t._v(t._s(t.user.user_nickname?t.user.user_nickname:t.i18n.my.NoNickname))]),n("v-uni-view",{staticClass:"PersonalSettings_1_1_1_1_6 displayFlex_right"},[n("v-uni-view",{staticClass:"displayFlex_center"},[n("v-uni-image",{staticClass:"img100",attrs:{src:i("7f98"),mode:""}})],1)],1)],1),n("v-uni-view",{staticClass:"PersonalSettings_1_1_1_1 displayFlex_left",staticStyle:{height:"88upx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.PersonalSettingsBtn(4)}}},[n("v-uni-view",{staticClass:"PersonalSettings_1_1_1_1_4"},[t._v(t._s(t.i18n.my.PhoneNumber))]),n("v-uni-view",{staticClass:"PersonalSettings_1_1_1_1_5 displayFlex_right"},[t._v(t._s(t.user.user_phone?t.user.user_phone:t.i18n.my.NoPhoneNumber))]),n("v-uni-view",{staticClass:"PersonalSettings_1_1_1_1_6 displayFlex_right"},[n("v-uni-view",{staticClass:"displayFlex_center"},[n("v-uni-image",{staticClass:"img100",attrs:{src:i("7f98"),mode:""}})],1)],1)],1)],1)],1)],1)],1)],1),n("v-uni-view",{staticClass:"diandi15"}),n("v-uni-view",{staticClass:"diandi10"}),n("v-uni-view",{staticClass:"diandi100"}),n("v-uni-view",{staticClass:"diandi100"}),t.changeUsername?n("v-uni-view",{staticClass:"PersonalSettings_4_0",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.guanbixiugai()}}}):t._e(),t.changeUsername?n("v-uni-view",{staticClass:"PersonalSettings_4"},[n("v-uni-view",{staticClass:"Margin040"},[n("v-uni-view",{staticClass:"PersonalSettings_4_1"},[n("v-uni-view",{staticClass:"PersonalSettings_4_1_1"},[t._v(t._s(t.i18n.my.EditUserNickname))]),n("v-uni-view",{staticClass:"PersonalSettings_4_1_2"},[n("v-uni-view",{staticClass:"Margin050"},[n("v-uni-view",{staticClass:"diandi20"}),n("v-uni-view",{staticClass:"PersonalSettings_4_1_2_1 displayFlex_center"},[n("v-uni-input",{attrs:{type:"text",value:"",placeholder:t.i18n.my.EditNickname},model:{value:t.XGusername,callback:function(e){t.XGusername=e},expression:"XGusername"}})],1)],1)],1),n("v-uni-view",{staticClass:"PersonalSettings_4_1_3 displayFlex_center"},[n("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.modifyBtn()}}},[t._v(t._s(t.i18n.my.Edit))])],1)],1)],1)],1):t._e()],1)},a=[]},"077b":function(t,e,i){"use strict";i.r(e);var n=i("00dd"),s=i("0019");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);i("1fb4");var o,_=i("f0c5"),r=Object(_["a"])(s["default"],n["b"],n["c"],!1,null,"3bbedb03",null,!1,n["a"],o);e["default"]=r.exports},"1fb4":function(t,e,i){"use strict";var n=i("9aa6"),s=i.n(n);s.a},"38d7":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.PersonalSettings_1[data-v-3bbedb03]{width:100%}.PersonalSettings_1 .PersonalSettings_1_1[data-v-3bbedb03]{width:100%;background:#fff;-webkit-border-radius:%?15?%;border-radius:%?15?%}.PersonalSettings_1 .PersonalSettings_1_1 .PersonalSettings_1_1_1[data-v-3bbedb03]{width:100%;min-height:%?100?%}.PersonalSettings_1 .PersonalSettings_1_1 .PersonalSettings_1_1_1 .PersonalSettings_1_1_1_1[data-v-3bbedb03]{width:100%;height:%?127?%;border-bottom:%?2?% solid #f8f8f8}.PersonalSettings_1 .PersonalSettings_1_1 .PersonalSettings_1_1_1 .PersonalSettings_1_1_1_1 .PersonalSettings_1_1_1_1_1[data-v-3bbedb03]{width:50%;height:%?127?%;line-height:%?127?%;font-size:%?26?%;color:#000;text-indent:%?10?%}.PersonalSettings_1 .PersonalSettings_1_1 .PersonalSettings_1_1_1 .PersonalSettings_1_1_1_1 .PersonalSettings_1_1_1_1_4[data-v-3bbedb03]{width:50%;height:%?88?%;line-height:%?88?%;font-size:%?26?%;color:#000;text-indent:%?10?%}.PersonalSettings_1 .PersonalSettings_1_1 .PersonalSettings_1_1_1 .PersonalSettings_1_1_1_1 .PersonalSettings_1_1_1_1_2[data-v-3bbedb03]{width:40%;height:%?127?%}.PersonalSettings_1 .PersonalSettings_1_1 .PersonalSettings_1_1_1 .PersonalSettings_1_1_1_1 .PersonalSettings_1_1_1_1_2 uni-view[data-v-3bbedb03]{width:%?80?%;height:%?80?%}.PersonalSettings_1 .PersonalSettings_1_1 .PersonalSettings_1_1_1 .PersonalSettings_1_1_1_1 .PersonalSettings_1_1_1_1_5[data-v-3bbedb03]{width:40%;height:%?88?%;line-height:%?88?%;font-size:%?25?%;color:#000}.PersonalSettings_1 .PersonalSettings_1_1 .PersonalSettings_1_1_1 .PersonalSettings_1_1_1_1 .PersonalSettings_1_1_1_1_3[data-v-3bbedb03]{width:10%;height:%?127?%}.PersonalSettings_1 .PersonalSettings_1_1 .PersonalSettings_1_1_1 .PersonalSettings_1_1_1_1 .PersonalSettings_1_1_1_1_3 uni-view[data-v-3bbedb03]{width:%?32?%;height:%?32?%}.PersonalSettings_1 .PersonalSettings_1_1 .PersonalSettings_1_1_1 .PersonalSettings_1_1_1_1 .PersonalSettings_1_1_1_1_6[data-v-3bbedb03]{width:10%;height:%?88?%}.PersonalSettings_1 .PersonalSettings_1_1 .PersonalSettings_1_1_1 .PersonalSettings_1_1_1_1 .PersonalSettings_1_1_1_1_6 uni-view[data-v-3bbedb03]{width:%?32?%;height:%?32?%;margin-right:%?10?%}.PersonalSettings_2[data-v-3bbedb03]{width:100%;height:%?100?%}.PersonalSettings_2 .PersonalSettings_2_1[data-v-3bbedb03]{width:100%;height:%?100?%;-webkit-border-radius:%?15?%;border-radius:%?15?%;background:#fff}.PersonalSettings_2 .PersonalSettings_2_1 .PersonalSettings_1_1_1_1_4[data-v-3bbedb03]{width:50%;height:%?88?%;line-height:%?88?%;font-size:%?26?%;color:#000;text-indent:%?32?%}.PersonalSettings_2 .PersonalSettings_2_1 .PersonalSettings_1_1_1_1_5[data-v-3bbedb03]{width:40%;height:%?88?%;line-height:%?44?%;font-size:%?25?%;color:#000}.PersonalSettings_2 .PersonalSettings_2_1 .PersonalSettings_1_1_1_1_6[data-v-3bbedb03]{width:10%;height:%?88?%}.PersonalSettings_2 .PersonalSettings_2_1 .PersonalSettings_1_1_1_1_6 uni-view[data-v-3bbedb03]{width:%?25?%;height:%?25?%;margin-right:%?30?%}.PersonalSettings_3[data-v-3bbedb03]{width:100%;height:%?90?%}.PersonalSettings_3 .PersonalSettings_3_1[data-v-3bbedb03]{width:100%;height:%?90?%;-webkit-border-radius:%?15?%;border-radius:%?15?%;line-height:%?90?%;color:#fff;text-align:center;font-size:%?27?%;background:#56bf33}.PersonalSettings_4_0[data-v-3bbedb03]{width:100%;height:100vh;background:#000;position:fixed;top:0;left:0;right:0;bottom:0;opacity:.7}.PersonalSettings_4[data-v-3bbedb03]{width:100%;height:%?400?%;position:fixed;top:30%}.PersonalSettings_4 .PersonalSettings_4_1[data-v-3bbedb03]{width:100%;height:%?400?%;background:#fff;-webkit-border-radius:%?15?%;border-radius:%?15?%}.PersonalSettings_4 .PersonalSettings_4_1 .PersonalSettings_4_1_1[data-v-3bbedb03]{width:100%;height:%?100?%;line-height:%?100?%;text-align:center;color:#000;font-size:%?32?%;font-weight:600}.PersonalSettings_4 .PersonalSettings_4_1 .PersonalSettings_4_1_2[data-v-3bbedb03]{width:100%;height:%?150?%}.PersonalSettings_4 .PersonalSettings_4_1 .PersonalSettings_4_1_2 .PersonalSettings_4_1_2_1[data-v-3bbedb03]{width:100%;height:%?100?%;border-bottom:%?2?% solid silver}.PersonalSettings_4 .PersonalSettings_4_1 .PersonalSettings_4_1_2 .PersonalSettings_4_1_2_1 uni-input[data-v-3bbedb03]{width:100%;height:%?70?%;line-height:%?70?%;font-size:%?30?%;color:#000;text-align:center}.PersonalSettings_4 .PersonalSettings_4_1 .PersonalSettings_4_1_3[data-v-3bbedb03]{width:100%;height:%?150?%}.PersonalSettings_4 .PersonalSettings_4_1 .PersonalSettings_4_1_3 uni-view[data-v-3bbedb03]{width:60%;height:%?100?%;background:#007aff;-webkit-border-radius:%?20?%;border-radius:%?20?%;font-size:%?36?%;color:#fff;line-height:%?100?%;text-align:center}',""]),t.exports=e},"7f98":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA4UlEQVRYR8XXwQ3CMAxG4dcJYARGYAU2gcmASWAENiijIEuNFFUqOPFvkkuP72sOTjIxeE2D+3gBe+AAvNRgD8DiM2DfG3BRIjyAM3CtolKEB2B//gZ2GQgPwLpH4JmB8ALSEC2AFEQrQI7oAUgRvQAZIgKQIKKAMEIBCCFUgC3EaRlgm8eHGvBYDq0S/BvARvU6fgfsIPu6FDvQHTdZFBCKRwHheAQgifcCZPEegDTeCpDHWwApcS+gvpaXoeIaMr+GkBewvpbL4l5AfS2Xxr2AspP2NLP3gXRFR3EYMxzwAZm0NiGfnvI9AAAAAElFTkSuQmCC"},"9aa6":function(t,e,i){var n=i("38d7");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=i("4f06").default;s("ff26798c",n,!0,{sourceMap:!1,shadowMode:!1})},"9caf":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={inject:["reload"],data:function(){return{user:[],img:"../../static/logo.png",Image:"",apiHost:"",changeUsername:!1,XGusername:"",XGuserIcon:""}},onLoad:function(){this.Image=this.Http.apiIMG,this.apiHost=this.Http.apiHost,this.getinfo(),t("log",this.apiHost," at pages/mine/PersonalSettings.vue:106")},onShow:function(){uni.setNavigationBarTitle({title:this.i18n.my.PersonalSetting})},computed:{i18n:function(){return this.$t("message")}},methods:{getinfo:function(){var e=this,i=uni.getStorageSync("token"),n="/api/client/get_info",s={user_id:sessionStorage.getItem("user_id")};t("log",n,s," at pages/mine/PersonalSettings.vue:129"),this.Http.Post(n,s,i).then((function(i){t("log",i.data," at pages/mine/PersonalSettings.vue:132"),e.user=i.data}))},modifyBtn:function(){var e=this;if(t("log",this," at pages/mine/PersonalSettings.vue:141"),""==this.XGusername)return this.UNIEvolution.uniShowToast("请输入昵称"),!1;this.UNIEvolution.uniShowLoading();var i=uni.getStorageSync("token"),n="/api/client/update_user_nickname",s={user_nickname:this.XGusername,user_id:sessionStorage.getItem("user_id")};t("log",n,s," at pages/mine/PersonalSettings.vue:153"),this.Http.Post(n,s,i).then((function(i){t("log",i," at pages/mine/PersonalSettings.vue:156"),200==i.code?(e.user.user_nickname=e.XGusername,e.changeUsername=!1,e.UNIEvolution.uniShowToast("修改成功"),e.UNIEvolution.uniHideLoading(1)):(e.UNIEvolution.uniShowToast(i.msg),e.UNIEvolution.uniHideLoading())}))},guanbixiugai:function(){this.changeUsername=!1},AvatarUpload:function(){var e=this,i=uni.getStorageSync("token"),n=this;uni.chooseImage({sourceType:["camera","album"],sizeType:["compressed"],count:1,success:function(s){var a=s.tempFilePaths[0],o=s.tempFiles[0];uni.uploadFile({url:n.apiHost+"/api/upload/upload",filePath:a,name:"file",formData:{user_icon:o},header:{token:i},method:"POST",success:function(n){var s="/api/upload/upload_img",a={user_icon:n.data,user_id:sessionStorage.getItem("user_id")};t("log",s,a," at pages/mine/PersonalSettings.vue:200"),e.Http.Post(s,a,i).then((function(t){200==t.code?(e.user.user_nickname=e.XGuserIcon,e.UNIEvolution.uniShowToast("修改成功")):e.UNIEvolution.uniShowToast(t.msg)}))}})}})},PersonalSettingsBtn:function(t){1==t||(2==t?this.changeUsername=!0:3==t||4==t&&this.UNIEvolution.uniShowToast("手机号不可修改"))}}};e.default=i}).call(this,i("0de9")["log"])}}]);